<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Agenda BarberÃ­a</title>
  <style>
    body { font-family: sans-serif; padding: 20px; }
    button { margin: 5px 0; }
    pre { background: #f4f4f4; padding: 10px; }
  </style>
</head>
<body>

<h1>Agenda FÃ¡cil ðŸª’</h1>

<label>Slug barberÃ­a:</label>
<input id="slug" value="test" />

<br><br>

<label>Fecha:</label>
<input id="fecha" type="date" value="2026-01-05" />

<br><br>

<button onclick="getServicios()">Servicios activos</button>
<button onclick="getBarberos()">Barberos</button>
<button onclick="getTurnos()">Turnos ocupados</button>

<h2>Respuesta</h2>
<pre id="output"></pre>

<script>
const API = "http://localhost:8080";

function show(data) {
  document.getElementById("output").textContent =
    JSON.stringify(data, null, 2);
}

async function getServicios() {
  const slug = document.getElementById("slug").value;
  const res = await fetch(`${API}/b/${slug}/servicios`);
  show(await res.json());
}

async function getBarberos() {
  const slug = document.getElementById("slug").value;
  const res = await fetch(`${API}/b/${slug}/barberos`);
  show(await res.json());
}

async function getTurnos() {
  const slug = document.getElementById("slug").value;
  const fecha = document.getElementById("fecha").value;
  const res = await fetch(
    `${API}/b/${slug}/disponibilidad?fecha=${fecha}`
  );
  show(await res.json());
}
</script>

</body>
</html>
